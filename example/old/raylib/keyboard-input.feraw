cc {
include("../../lib/string.c");
include("../../lib/condition.c");
include("../../lib/math.c");
};

include("../../lib/types.feraw");
include("../../lib/raylib.feraw");

screenWidth = 800;
screenHeight = 450;

InitWindow(screenWidth, screenHeight, "raylib core example - keyboard input");

ballPosition = list(0);
ballPosition["x"] = div(screenWidth, 2);
ballPosition["y"] = div(screenHeight, 2);

SetTargetFPS(60);               // Set our game to run at 60 frames-per-second
//--------------------------------------------------------------------------------------

// Main game loop
// Detect window close button or ESC key
while (equals(WindowShouldClose(), 0))
{
    // Update
    //----------------------------------------------------------------------------------
    if (IsKeyDown(KEY_RIGHT))
    {
        ballPosition.x = add(ballPosition.x, 2);
    };
    
    if (IsKeyDown(KEY_LEFT))
    {
        ballPosition.x = sub(ballPosition.x, 2);
    };

    if (IsKeyDown(KEY_UP))
    {
        ballPosition.y = sub(ballPosition.y, 2);
    };

    if (IsKeyDown(KEY_DOWN))
    {
        ballPosition.y = add(ballPosition.y, 2);
    };

    //----------------------------------------------------------------------------------

    // Draw
    //----------------------------------------------------------------------------------
    BeginDrawing();

        ClearBackground(RAYWHITE);

        DrawText("move the ball with arrow keys", 10, 10, 20, DARKGRAY);

        DrawCircle(ballPosition.x, ballPosition.y, 50, MAROON);

    EndDrawing();
    //----------------------------------------------------------------------------------
}

// De-Initialization
//--------------------------------------------------------------------------------------
CloseWindow();        // Close window and OpenGL context
//--------------------------------------------------------------------------------------
free(ballPosition); // free the ball position list